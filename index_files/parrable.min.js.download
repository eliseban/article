!function(e){var r="https://h.parrable.com/hawk-js/v5/hawk.min.js",n="2.0.0",t=e.document,o=e._parrable_config||{},a=[],i=[],c=[],u=null,s=null,l={startTime:Date.now(),trackers:o.trackers||[],tracker:o.tracker||[],counterLoader:o.counterLoader+1||1,counterScript:o.counterScript||0,loaderVersions:o.loaderVersions||[]};l.tracker[l.counterLoader-1]=[];var f=function(e){var r=new RegExp("(?:^|;)\\s?"+e+"=(.*?)(?:;|$)"),n=t.cookie.match(r);return n&&decodeURIComponent(n[1])||null},d=function(){return e._hawk&&e._hawk.isFinished||!1},p=function(){return e._hawk&&e._hawk.isLoaded||!1},b=function(e){e&&(l.consoleLog=!0)},h=function(e){var r={},n=decodeURIComponent(e).split(",");return n.forEach(function(e){var n=e.split(":");r[n[0]]=1===+n[1]||n[1]}),r},m=function(){var e=h(f("_parrable_id")),r="true"===f("_parrable_ccpa_optout")||e.ccpaOptout||!1,n=function(){return r?null:f("_parrable_eid")||f("_parrable_hawk")||e.eid||null}(),t="true"===f("_parrable_iba_optout")||"true"===f("_parrable_optout")||"true"===f("_parrable_hawk_optout")||e.ibaOptout||!1;return{eid:n,ibaOptout:t,ccpaOptout:r}},_=function(r){return"function"!=typeof r?m():void(d()?e._hawk("parrable",function(e){r(e)}):a.push(function(e){r(e)}))},k=function(e,r){if("string"!=typeof e||0===e.length){var n=r+" is not a valid string";throw new Error(n)}},y=function(e){e&&l.trackers.indexOf(e)===-1&&l.tracker[l.counterLoader-1].push(e)},v=function(){l.trackers.push.apply(l.trackers,l.tracker[l.counterLoader-1])},w=function(e){return k(e,"Parrable.addPartnerID: PartnerID"),y(e)},D=function(r){d()?e._hawk.syncTpid(r):c.push(r)},I=function(e,r){k(e,"Parrable.syncIDFA: IDFA"),r&&k(r,"Parrable.syncIDFA: PartnerID"),D({ifaType:"idfa",ifa:e,cid:r||u})},E=function(e,r){k(e,"Parrable.syncAAID: AAID"),r&&k(r,"Parrable.syncAAID: PartnerID"),D({ifaType:"gaid",ifa:e,cid:r||u})},P=function(e,r){k(e,"Parrable.syncPubID: PubID"),r&&k(r,"Parrable.syncPubID: PartnerID"),D({ifaType:"cookie",ifa:e,cid:r||u})},g=function(){u&&c.forEach(function(e){e.cid||(e.cid=u)})},A=function(){var e=function(e,r){a.push(r)};return e.queue=a,e.tpidQueue=c,e.syncEidQueue=i,e.isFinished=!1,e},L=function(){y(u),v(),g(),p()?e._hawk.syncEid():i.push(!0)},O=function(r,t){k(r,"Parrable.configure: CID");var o=t||{};u=r,l.timeout=o.timeout||2e3,l.loaderVersions[l.counterLoader-1]=n,l.timezoneFilter=o.timezoneFilter||null,e._parrable_config=l,F()},F=function(){var e=m();z(l,e)||Z()},T={isEmpty:function(e){return!e||0===e.length},contains:function(e,r){return!this.isEmpty(e)&&e.indexOf(r)!==-1}},C=function(){return s},z=function(e,r){function n(){return!(!T.isEmpty(o.allowedZones)||!T.isEmpty(o.allowedOffsets))||(!!T.contains(o.allowedZones,c)||!!T.contains(o.allowedOffsets,i))}function t(){return(!T.isEmpty(o.blockedZones)||!T.isEmpty(o.blockedOffsets))&&(!!T.contains(o.blockedZones,c)||!!T.contains(o.blockedOffsets,i))}var o=e.timezoneFilter,a=e.consoleLog;if(!o)return!1;if(r.eid)return!1;var i=(new Date).getTimezoneOffset()/60,c=Intl.DateTimeFormat().resolvedOptions().timeZone;if(s=!n()||t(),a){var u=s?"filtered":"not filtered";console.log("Parrable: Impression is "+u+" due to browser timezone")}return s},Z=function(){if(!p()){e._hawk=A();var n=t.createElement("script");n.async=1,n.src=r;var o=t.getElementsByTagName("script")[0]||t.head;n.onerror=function(r){var n=null,o=e.CustomEvent;return"function"==typeof o?n=new o("ParrableLoadError",{detail:r}):(n=t.createEvent("CustomEvent"),n.initCustomEvent("ParrableLoadError",!0,!1,r)),t.dispatchEvent(n),!1},o.parentNode.insertBefore(n,o)}};e.Parrable={consoleLog:b,getData:_,addPartnerID:w,syncEID:L,syncIDFA:I,syncAAID:E,syncPubID:P,configure:O,isFiltered:C}}(window);